section id="parallax-#{@season.championship.code}"
  .hero-body
    .container
      .columns.is-mobile
        .column.is-3.is-right
          - if @season.id != @season.championship.seasons.first.id
            = link_to sport_championship_season_days_path(season_id: @season.id - 1, championship_id: @season.championship.id, sport_id: @season.championship.sport.id) do
              = image_tag "left.png", size: "100x100"
        .column.is-6.is-center
          h1.title.is-1 = @season.name
          hr.content-divider
          h2.subtitle
            - if !@days.size.zero?
              = "#{@days.last.date.strftime("%d.%m.%Y")} - #{@days.first.date.strftime("%d.%m.%Y")}"
        .column.is-3.is-left
          - if @season.id != @season.championship.seasons.last.id
            = link_to sport_championship_season_days_path(season_id: @season.id + 1, championship_id: @season.championship.id, sport_id: @season.championship.sport.id) do
              = image_tag "right.png", size: "100x100"
      .columns
        .column.is-6.is-offset-3
          .table-container
            table.table.has-text-white.is-bordered
              thead
                tr
                  th.is-center
                  th.is-center 1 –º–µ—Å—Ç–æ
                  th.is-center 2 –º–µ—Å—Ç–æ
                  th.is-center 3 –º–µ—Å—Ç–æ
                  th.is-center 4 –º–µ—Å—Ç–æ
              - @teams.each do |team|
                - next if @places.select { |p| [p[:first_place], p[:second_place], p[:third_place], p[:fourth_place]].include? team.id }.count.zero?
                tr
                  td.is-center = image_tag "colors/#{team.code}.png", size: '25x30'
                  td.is-center = @places.select { |p| p[ :first_place] == team.id }.count
                  td.is-center = @places.select { |p| p[:second_place] == team.id }.count
                  td.is-center = @places.select { |p| p[ :third_place] == team.id }.count
                  td.is-center = @places.select { |p| p[:fourth_place] == team.id }.count

section#parallax-football
  .hero-body
    .container
      .columns
        table.table.has-text-white.is-bordered
          tr
            th –î–∞—Ç–∞
            th 1
            th 2
            th 3
            th 4
            th –ò–≥—Ä–æ–∫–æ–≤
            th –ò–≥—Ä
          - @days.each do |day|
            tr
              - g = day.games.to_a
              td = link_to l(day.date), sport_championship_season_day_path(day.id, season_id: day.season.id, championship_id: day.season.championship.id, sport_id: day.season.championship.sport.id)
              / td = link_to day.date.strftime('%d.%m.%Y %A'), day_path(day)
              - array = [day.first_place, day.second_place, day.third_place]
              - array.each do |place|
                td
                  - if place.present?
                    = image_tag "colors/#{Team.cached_by_id[place].code}.png", size: '20x25'
                    | &nbsp;
                    = g.select { |x| x.team_left_id == place || x.team_right_id == place }.count
              - dp = day.day_players_by_season(day.season_id)
              td
                - if dp.group_by(&:team_id).count > 3
                  - (@teams.pluck(:id) - array).each do |t|
                    = image_tag "colors/#{Team.cached_by_id[t].code}.png", size: '20x25'
                    | &nbsp;
                    = g.select { |x| x.team_left_id == t || x.team_right_id == t }.count
              td = dp.count
              td = g.size

section#parallax-cars
  .hero-body
    .container
      .columns.is-mobile
        .table-container
          table.table.has-text-white.is-bordered
            thead
              tr.has-text-white
                th
                th –ò–≥—Ä–æ–∫
                th
                  div = link_to '–î–Ω–µ–π', sport_championship_season_days_path(sort: :days)
                  - Team.all_cached.each do |team|
                    = link_to sport_championship_season_days_path(sport_id: 1, season_id: @season.id, sort: :days, team: team.code) do
                      = image_tag "colors/#{team.code}.png", size: "15x20"
                      | &nbsp
                th = link_to '–ò–≥—Ä',  sport_championship_season_days_path(sort: :games)
                th = link_to 'ELO',  sport_championship_season_days_path(sort: :elo)
                th = link_to '‚öΩÔ∏è', sport_championship_season_days_path(sort: :goals_count)
                th = link_to 'ü¶∂', sport_championship_season_days_path(sort: :assists_count)
                th
                  = link_to '‚öΩ', sport_championship_season_days_path(sort: :goals_day_count)
                  | /
                  = link_to 'ü¶∂', sport_championship_season_days_path(sort: :assists_day_count)
                  div
                    sup = ' –≤ –¥–µ–Ω—å '
            - @arr_by_days.each do |arr|
              - if arr.is_a? String
                tr
                  td.text-center colspan='12' = arr
              - else
                - arr.each_with_index do |player, i|
                  - dp = player.day_players_by_season(@season.id)
                  tr
                    td = i + 1
                    td = link_to player.short_name, player_path(player)
                    td
                      - player.dp_tally(dp).each do |team_id, count|
                        | &nbsp;
                        = image_tag "colors/#{Team.cached_by_id[team_id].code}.png", size: "15x20"
                        sup
                          | &nbsp;
                          = count
                    td.text-right = player.games
                    td.text-right = player.stats_elo.to_i
                    td.text-right = player.goals_count
                    td.text-right = player.assists_count
                    td.text-right
                      = ((player.goals_day_count.to_f * 100).to_i / 100.0).to_s.ljust(4, '0')
                      span
                        | (
                        = ((player.assists_day_count.to_f * 100).to_i / 100.0).to_s.ljust(4, '0')
                        | )

section#parallax-football
  .hero-body
    .container
      .columns.is-mobile
        .table-container
          table.table.has-text-white
            thead
              tr
                th –†–µ–π—Ç–∏–Ω–≥ –≠–ª–æ
            tr
              td
                div –í—Å–µ –∏–≥—Ä–æ–∫–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Å —Ä–µ–π—Ç–∏–Ω–≥–∞ 1500
                div –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∫–æ–≤ —Ä–µ–π—Ç–∏–Ω–≥–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∏—Ç –∫–æ–º–∞–Ω–¥–∞ A –≤ –º–∞—Ç—á–µ —Å –∫–æ–º–∞–Ω–¥–æ–π B (–æ–Ω–æ —Ä–∞–≤–Ω–æ —Å—É–º–º–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ –∫–æ–º–∞–Ω–¥—ã A –∏ –ø–æ–ª–æ–≤–∏–Ω—ã –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –Ω–∏—á—å–µ–π):
            tr
              td
                .col-sm-3
                  = image_tag "kk2.svg"
                .col-sm-9
                  div
                    | E
                    sub A
                    = " - –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∫–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–±–µ—Ä—ë—Ç –∫–æ–º–∞–Ω–¥–∞ A –≤ –∏–≥—Ä–µ —Å –∫–æ–º–∞–Ω–¥–æ–π B;"
                  div
                    | R
                    sub A
                    = " ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã A;"
                  div
                    | R
                    sub B
                    = " ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã B;"
            tr
              td
                .col-sm-8 –ù–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã A —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
                .col-sm-4
                  = image_tag "kk1.svg"
            tr
              td
                .col-sm-12
                  div
                    | S
                    sub A
                    = " - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–±—Ä–∞–Ω–Ω–æ–µ –∫–æ–º–∞–Ω–¥–æ–π A –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ (1 –æ—á–∫–æ –∑–∞ –ø–æ–±–µ–¥—É, 0,5 ‚Äî –∑–∞ –Ω–∏—á—å—é –∏ 0 ‚Äî –∑–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–µ);"
                  div
                    | R^
                    sub A
                    = " - –Ω–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã A."
                  div
                    = "K - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç:"
                    ul
                      li 5 –¥–ª—è —Å–∏–ª—å–Ω–µ–π—à–∏—Ö –∫–æ–º–º–∞–Ω–¥ (—Ä–µ–π—Ç–∏–Ω–≥ 1900 –∏ –≤—ã—à–µ)
                      li 10 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1800-1899
                      li 20 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1700-1799
                      li 30 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1600-1699
                      li 40 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1500-1599
                      li 50 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1400-1499
                      li 60 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1300-1399
                      li 70 –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –Ω–∏–∂–µ 1300
